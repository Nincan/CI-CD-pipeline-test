import Example from 'components/example';
import Layout from 'components/layout';
import Exports from 'components/exports';
import ImplementationLink from 'components/implementation-link';
import { DocLink } from 'components/markdown-elements';

import Stateless from 'componentConfigs/popover/examples/stateless.js';
import StatefulClick from 'componentConfigs/popover/examples/stateful-click.js';
import TargetElement from 'componentConfigs/popover/examples/target-element.js';
import Link from 'componentConfigs/popover/examples/link.js';
import StatefulHover from 'componentConfigs/popover/examples/stateful-hover.js';
import Placements from 'componentConfigs/popover/examples/placements.js';
import WithArrow from 'componentConfigs/popover/examples/with-arrow.js';
import Dismiss from 'componentConfigs/popover/examples/dismiss.js';
import Clipping from 'componentConfigs/popover/examples/clipping.js';
import ViewportAsBoundary from 'componentConfigs/popover/examples/viewportAsBoundary.js';
import Customization from 'componentConfigs/popover/examples/overrides.js';
import AnchorRefHandling from 'componentConfigs/popover/examples/ref-handling.js';
import SSRRenderAll from 'componentConfigs/popover/examples/ssr-render-all.js';

import { Popover, PLACEMENT } from 'spaceweb/popover';
import * as PopoverExports from 'spaceweb/popover';
import { Block } from 'baseui/block';

import Yard from 'components/yard/index';
import popoverYardConfig from 'componentConfigs/popover/config';
import ApiTable from 'components/api-table';

export default Layout;

# Popover

<Yard placeholderHeight={20} {...popoverYardConfig} />

Popovers provide the container and styles to overlay menus, tooltips, controls or text. They’re
visually represented as a layer above other components and objects in a view, and float above a
content view after being triggered by a click-event (or hover) such as a button, link, menu or
icon. Popovers can contain range of content from simple text strings to inputs, or lightly
structured content and imagery/illustration. It’s usage depends on the context.

## When to use

- Describe the difference between visually similar elements.
- Hide information that's irrelevant once the user if familiar with the UI.

## Accessibility

- Upon opening, focus will be transferred to the first interactive element (unless `autofocus` is set to false)
- The anchor will be focusable and user can tab to it using their keyboard.
- When triggerType="hover" focusing on the anchor will open the tooltip automatically
- When triggerType="click" a focused tooltip can be triggered via spacebar (assuming the anchor is a button)
- Both the escape key and clicking outside the popover will close it
- Supports a prop `accessibilityType: 'none' | 'menu' | 'tooltip'` that defaults to `menu`
- When used as a `menu`, the anchor will have `aria-haspopup="true" aria-expanded="true" aria-controls="popover-id"` and the popover will have `id="popover-id"`
- When used as a `tooltip`, the anchor will have `id="jzowpv-anchor" aria-describedby="jzowpv-popover"` and the popover will have `id="jzowpv-popover" aria-ownedby="jzowpv-anchor" role="tooltip"` (note that `jzowpv` is a random uuid generated at runtime).
- When `accessibilityType` is set to `none`, nothing will be added so the user can do whatever they wish.

## Examples

<Example title="Popover stateless example" path="popover/examples/stateless.js">
  <Stateless />
</Example>
<Example title="Popover opens on Click" path="popover/examples/stateful-click.js">
  <StatefulClick />
</Example>
<Example title="Popover with TargetElement" path="popover/examples/target-element.js">
  <TargetElement />
</Example>

Spaceweb will not provide accessibility related prop when custom TargetElement is used.
Read <DocLink href="#accessibility">Accessibility guideline</DocLink> for popover.

<Example title="Popover opens on link Click" path="popover/examples/link.js">
  <Link />
</Example>
<Example title="Popover Opens on Hover" path="popover/examples/stateful-hover.js">
  <StatefulHover />
</Example>
<Example title="Popover Available Placements" path="popover/examples/placements.js">
  <Placements />
</Example>
<Example title="Popover With Arrow" path="popover/examples/with-arrow.js">
  <WithArrow />
</Example>
<Example title="Popover Close from Content" path="popover/examples/dismiss.js">
  <Dismiss />
</Example>
<Example title="Anchor ref handling example" path="popover/examples/ref-handling.js">
  <AnchorRefHandling />
</Example>
<Example title="Clipping Avoidance" path="popover/examples/clipping.js">
  <Clipping />
</Example>
<Example title="viewportAsBoundary prop" path="popover/examples/viewportAsBoundary.js">
  <ViewportAsBoundary />
</Example>
<Example title="Popover with Overrides" path="popover/examples/overrides.js">
  <Customization />
</Example>
<Example title="SSR Popover" path="popover/examples/ssr-render-all.js">
  <SSRRenderAll />
</Example>

## API

<ApiTable title="Popover props" config={popoverYardConfig} />
<ImplementationLink componentPath="popover" />
<Exports component={PopoverExports} title="Popover exports" path="spaceweb/popover" />
